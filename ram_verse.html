<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramayana - Verse Explorer</title>
    <link href="https://fonts.googleapis.com/css2?family=Tiro+Devanagari+Sanskrit&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Merriweather', serif;
            background: url('file:///C:/Users/iasis/Desktop/indian epic/ram_photos/unnamed.png') no-repeat center center fixed;
            background-size: cover;
            color: #3c2f2f;
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
            min-height: 100vh;
        }

        body::before {
            content: '‡•ê';
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 300px;
            color: rgba(255, 153, 51, 0.3);
            font-family: 'Tiro Devanagari Sanskrit', serif;
            z-index: -1;
            pointer-events: none;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://source.unsplash.com/200x200/?mandala,indian') center/cover;
            opacity: 0.05;
            z-index: -2;
            pointer-events: none;
        }

        .petals {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .petal {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #FF9933;
            opacity: 0.6;
            border-radius: 50%;
            animation: fall 10s linear infinite;
        }

        .petals div:nth-child(1) { left: 10%; animation-delay: 0s; }
        .petals div:nth-child(2) { left: 30%; animation-delay: 2s; }
        .petals div:nth-child(3) { left: 50%; animation-delay: 4s; }
        .petals div:nth-child(4) { left: 70%; animation-delay: 6s; }
        .petals div:nth-child(5) { left: 90%; animation-delay: 8s; }

        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0.6; }
            100% { transform: translateY(110vh) rotate(720deg); opacity: 0.2; }
        }

        .navbar {
            background: linear-gradient(to bottom, #8B4513, #A0522D);
            padding: 20px 0;
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            border-bottom: 3px solid #FFD700;
        }

        .navbar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://source.unsplash.com/100x100/?lotus,indian') center/cover;
            opacity: 0.2;
            z-index: -1;
        }

        .navbar .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar-brand {
            color: #FFD700;
            font-family: 'Tiro Devanagari Sanskrit', serif;
            font-size: 30px;
            text-decoration: none;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .navbar-brand:hover {
            transform: scale(1.05);
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            color: #FFD700;
            text-decoration: none;
            font-size: 18px;
            padding: 12px 20px;
            border-radius: 8px;
            background: rgba(210, 180, 140, 0.7);
            transition: all 0.3s ease;
            font-family: 'Merriweather', serif;
            border: 1px solid #FF4500;
        }

        .nav-links a:hover {
            background: #FFD700;
            color: #3c2f2f;
            transform: translateY(-3px);
        }

        .content {
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background: url('https://source.unsplash.com/200x200/?mandala,indian') center/cover, rgba(210, 180, 140, 0.9);
            background-blend-mode: soft-light;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
            border: 2px solid #FFD700;
            position: relative;
        }

        .content::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border: 5px solid transparent;
            border-image: url('https://source.unsplash.com/100x100/?lotus,indian') 30 round;
            z-index: -1;
        }

        .content h1 {
            font-family: 'Tiro Devanagari Sanskrit', serif;
            font-size: 36px;
            color: #2F4F4F;
            margin-bottom: 15px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            border-bottom: 2px solid #FF4500;
            padding-bottom: 8px;
            position: relative;
        }

        .content h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 80px;
            background: url('https://source.unsplash.com/100x100/?lotus,indian') center/cover;
            opacity: 0.3;
            z-index: -1;
        }

        .content p {
            font-size: 16px;
            margin-bottom: 15px;
            color: #3c2f2f;
            text-align: center;
            font-style: italic;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .audio-card {
            background: url('https://source.unsplash.com/100x100/?paisley,indian') center/cover, rgba(210, 180, 140, 0.9);
            background-blend-mode: soft-light;
            border: 2px solid #FFD700;
            transition: all 0.3s ease;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            position: relative;
        }

        .audio-card::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border: 3px solid transparent;
            border-image: url('https://source.unsplash.com/50x50/?mandala,indian') 20 round;
            z-index: -1;
        }

        .audio-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            background: url('https://source.unsplash.com/100x100/?paisley,indian') center/cover, rgba(210, 180, 140, 0.95);
            background-blend-mode: soft-light;
        }

        .audio-card h3 {
            font-family: 'Tiro Devanagari Sanskrit', serif;
            font-size: 20px;
            color: #2F4F4F;
            margin-bottom: 8px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .lang-btn {
            padding: 10px 20px;
            background: #2F4F4F;
            color: #FFD700;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #FFD700;
            font-family: 'Tiro Devanagari Sanskrit', serif;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            margin: 5px;
        }

        .lang-btn:hover {
            background: #FFD700;
            color: #3c2f2f;
            transform: translateY(-3px);
        }

        .chapter-select {
            padding: 8px;
            background: rgba(210, 180, 140, 0.9);
            border: 2px solid #FF4500;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Merriweather', serif;
            margin-top: 8px;
            width: 100%;
            max-width: 250px;
            color: #2F4F4F;
        }

        .audio-player {
            background: rgba(210, 180, 140, 0.9);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .audio-player audio {
            width: 100%;
            margin-bottom: 8px;
            background: #2F4F4F;
            border-radius: 5px;
            outline: none;
        }

        .audio-player audio::-webkit-media-controls-panel {
            background: #2F4F4F;
            color: #FFD700;
        }

        .audio-player audio::-webkit-media-controls-play-button,
        .audio-player audio::-webkit-media-controls-volume-slider,
        .audio-player audio::-webkit-media-controls-timeline {
            background: #FFD700;
            border-radius: 5px;
        }

        .custom-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 8px;
            background: rgba(210, 180, 140, 0.9);
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #FF4500;
        }

        .custom-controls button {
            padding: 8px 15px;
            background: #2F4F4F;
            color: #FFD700;
            border: 2px solid #FFD700;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Merriweather', serif;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .custom-controls button:hover {
            background: #FFD700;
            color: #3c2f2f;
        }

        .custom-controls input[type="range"] {
            width: 150px;
            accent-color: #FF4500;
            background: #2F4F4F;
            border-radius: 5px;
        }

        .custom-controls span {
            font-family: 'Merriweather', serif;
            color: #3c2f2f;
            font-size: 14px;
        }

        .subtitle-container {
            margin-top: 8px;
            background: rgba(210, 180, 140, 0.9);
            border-radius: 5px;
            padding: 8px;
            max-height: 80px;
            overflow-y: auto;
            color: #3c2f2f;
            font-size: 14px;
            font-family: 'Merriweather', serif;
            textographically: center;
        }

        .subtitle-container p {
            margin: 0;
        }

        .ramayana-image {
            max-width: 50%;
            height: auto;
            border-radius: 8px;
            margin: 0 auto 10px auto;
            display: block;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .shloka-text {
            font-family: 'Tiro Devanagari Sanskrit', serif;
            font-size: 16px;
            color: #2F4F4F;
            text-align: center;
            font-style: italic;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        footer {
            background: linear-gradient(to top, #8B4513, #A0522D);
            color: #FFD700;
            text-align: center;
            padding: 15px;
            width: 100%;
            font-size: 16px;
            border-top: 3px solid #FFD700;
            position: relative;
        }

        footer p {
            background: rgba(210, 180, 140, 0.9);
            border-radius: 8px;
            padding: 5px 10px;
            display: inline-block;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://source.unsplash.com/100x100/?lotus,indian') center/cover;
            opacity: 0.2;
            z-index: -1;
        }

        @media (max-width: 768px) {
            .content {
                margin: 20px auto;
                padding: 15px;
            }

            .content h1 {
                font-size: 28px;
            }

            .content p {
                font-size: 14px;
            }

            .audio-card h3 {
                font-size: 18px;
            }

            .lang-btn {
                font-size: 14px;
                padding: 8px 15px;
            }

            .chapter-select {
                font-size: 12px;
                max-width: 200px;
            }

            .custom-controls input[type="range"] {
                width: 120px;
            }

            .custom-controls span {
                font-size: 12px;
            }

            .subtitle-container {
                font-size: 12px;
                max-height: 60px;
            }

            .ramayana-image {
                max-width: 75%;
            }

            .shloka-text {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="petals">
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="petal"></div>
        <div class="petal"></div>
    </div>

    <nav class="navbar">
        <div class="container">
            <a href="ramayana.html" class="navbar-brand">Dharmayatra</a>
            <ul class="nav-links">
                <li><a href="ramayana.html">Ramayana</a></li>
                <li><a href="mahabharata.html">Mahabharata</a></li>
            </ul>
        </div>
    </nav>

    <section class="content">
        <h1>Explore the Ramayana Verses</h1>
        <p class="text-lg text-center mb-6 italic">Select a language and chapter to hear the epic tale of Lord Rama, narrated like a podcast.</p>
        <div class="audio-card">
            <img src="./ram_photos/verse pic.jpg" alt="Ramayana Verse" class="ramayana-image">
            <p class="shloka-text">"‡§® ‡§ö ‡§∏‡§æ ‡§∂‡•ç‡§∞‡•Ä‡§∞‡§™‡§ø ‡§™‡•ç‡§∞‡•Ä‡§§‡§ø‡§Æ‡§æ‡§™‡•ç‡§®‡•ã‡§§‡§ø ‡§≠‡§∞‡§§‡§∏‡•ç‡§Ø ‡§ö‡•§<br>‡§∞‡§æ‡§Æ‡§Ç ‡§™‡•ç‡§∞‡§µ‡•ç‡§∞‡§æ‡§ú‡§ø‡§§‡§Ç ‡§¶‡•É‡§∑‡•ç‡§ü‡•ç‡§µ‡§æ ‡§Æ‡•É‡§§‡§Ç ‡§¶‡§∂‡§∞‡§•‡§Ç ‡§®‡•É‡§™‡§Æ‡•ç‡••"</p>
            <h3>Select Language</h3>
            <div class="flex flex-wrap gap-4 mb-6 justify-center">
                <button onclick="loadAudio('english')" class="lang-btn">English</button>
                <button onclick="loadAudio('hindi')" class="lang-btn">Hindi</button>
                <button onclick="loadAudio('kannada')" class="lang-btn">Kannada</button>
            </div>
            <div id="audio-player" class="audio-player">
                <p>Select a language to load audio.</p>
            </div>
        </div>
    </section>

    <footer>
        <p>¬© 2025 Dharmayatra. <br> ‡§Ø‡§§‡•ã ‡§ß‡§∞‡•ç‡§Æ‡§∏‡•ç‡§§‡§§‡•ã ‡§ú‡§Ø‡§É‡•§ </p>
    </footer>

    <script>
        const audioFiles = {
            english: [
                { title: "Introduction", src: "./ramayana audios/english/RAM_-_00_-_Introduction.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_00_Introduction.vtt" },
                { title: "The Conception", src: "./ramayana audios/english/RAM_-_01_-_The_Conception.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_01_Conception.vtt" },
                { title: "Rama Leaves Home", src: "./ramayana audios/english/RAM_-_02_-_Rama_Leaves_Home.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_02_RamaLeaves.vtt" },
                { title: "Rama Slays the Monsters", src: "./ramayana audios/english/RAM_-_03_-_Rama_Slays_the_Monsters.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_03_SlaysMonsters.vtt" },
                { title: "Sita's Appearance", src: "./ramayana audios/english/RAM_-_04_-_Sitas_Appearance.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_04_SitasAppearance.vtt" },
                { title: "The Descent of the Ganges", src: "./ramayana audios/english/RAM_-_05_-_The_Descent_of_the_Ganges.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_05_Ganges.vtt" },
                { title: "Ahalya", src: "./ramayana audios/english/RAM_-_06_-_Ahalya.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_06_Ahalya.vtt" },
                { title: "Rama Wins Sita's Hand", src: "./ramayana audios/english/RAM_-_07_-_Rama_Wins_Sitas_Hand.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_07_SitasHand.vtt" },
                { title: "Parasurama's Discomfiture", src: "./ramayana audios/english/RAM_-_08_-_Parasuramas_Discomfiture.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_08_Parasurama.vtt" },
                { title: "Festive Preparations", src: "./ramayana audios/english/RAM_-_09_-_Festive_Preparations.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_09_Festive.vtt" },
                { title: "Manthara's Evil Counsel", src: "./ramayana audios/english/RAM_-_10_-_Mantharas_Evil_Counsel.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_10_Manthara.vtt" },
                { title: "Kaikeyi Succumbs", src: "./ramayana audios/english/RAM_-_11_-_Kaikeyi_Succumbs.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_11_Kaikeyi.vtt" },
                { title: "Wife or Demon", src: "./ramayana audios/english/RAM_-_12_-_Wife_or_Demon.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_12_WifeDemon.vtt" },
                { title: "Rama Pacifies Kaikeyi", src: "./ramayana audios/english/RAM_-_13_-_Rama_Pacifies_Kaikeyi.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_13_PacifiesKaikeyi.vtt" },
                { title: "Rama Counsels His Family Members", src: "./ramayana audios/english/RAM_-_14_-_Ramas_Counsels_His_Family_Members.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_14_Counsels.vtt" },
                { title: "Sita's Resolve", src: "./ramayana audios/english/RAM_-_15_-_Sitas_Resolve.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_15_SitasResolve.vtt" },
                { title: "They Start For the Forest", src: "./ramayana audios/english/RAM_-_16_-_They_Start_For_the_Forest.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_16_Forest.vtt" },
                { title: "Rama, Sita, and Lakshmana Alone", src: "./ramayana audios/english/RAM_-_17_-_Rama_Sita_and_Lakmana_Alone.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_17_Alone.vtt" },
                { title: "At Chitrakuta Hill", src: "./ramayana audios/english/RAM_-_18_-_At_Chitrakuta_Hill.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_18_Chitrakuta.vtt" },
                { title: "Kausalya's Grief", src: "./ramayana audios/english/RAM_-_19_-_Kausalyas_Grief.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_19_Kausalya.vtt" },
                { title: "Dasaratha's Past Mistake", src: "./ramayana audios/english/RAM_-_20_-_Dasarathas_Past_Mistake.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_20_Dasaratha.vtt" },
                { title: "Dasaratha's Last Moments", src: "./ramayana audios/english/RAM_-_21_-_Dasarathas_Last_Moments.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_21_LastMoments.vtt" },
                { title: "Bharata Arrives Home", src: "./ramayana audios/english/RAM_-_22_-_Bharata_Arrives_Home.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_22_BharataArrives.vtt" },
                { title: "The Intrigue Fails", src: "./ramayana audios/english/RAM_-_23_-_The_Intrigue_Fails.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_23_Intrigue.vtt" },
                { title: "Bharata Suspected", src: "./ramayana audios/english/RAM_-_24_-_Bharata_Suspected.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_24_BharataSuspected.vtt" },
                { title: "Ram and Bharata Meet", src: "./ramayana audios/english/RAM_-_25_-_Ram_and_Bharata_Meet.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_25_RamBharata.vtt" },
                { title: "Bharata Becomes Rama's Deputy", src: "./ramayana audios/english/RAM_-_26_-_Bharata_Becomes_Ramas_Deputy.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_26_Deputy.vtt" },
                { title: "The End of Rakshasa Viradha", src: "./ramayana audios/english/RAM_-_27_-_The_End_of_Rakshasa_Viradha.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_27_Viradha.vtt" },
                { title: "Ten Years Pass", src: "./ramayana audios/english/RAM_-_28_-_Ten_Years_Pass.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_28_TenYears.vtt" },
                { title: "Surpanakha Desires Rama", src: "./ramayana audios/english/RAM_-_29_-_Surpanakha_Desires_Rama.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_29_Surpanakha.vtt" },
                { title: "Rama Destroys Khara and His Army", src: "./ramayana audios/english/RAM_-_30_-_Rama_Destroys_Khara_and_His_Army.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_30_Khara.vtt" },
                { title: "Ravana Promises Vengeance", src: "./ramayana audios/english/RAM_-_31_-_Ravana_Promises_Vengence.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_31_Vengeance.vtt" },
                { title: "The Golden Deer", src: "./ramayana audios/english/RAM_-_32_-_The_Golden_Deer.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_32_GoldenDeer.vtt" },
                { title: "Jatayu Tries to Save Sita", src: "./ramayana audios/english/RAM_-_33_-_Jatayu_Tries_to_Save_Sita.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_33_Jatayu.vtt" },
                { title: "Ravana Has Sita Closely Guarded", src: "./ramayana audios/english/RAM_-_34_-_Ravana_Has_Sita_Closely_Guarded.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_34_Guarded.vtt" },
                { title: "Rama Chastises Lakshman", src: "./ramayana audios/english/RAM_-_35_-_Rama_Chastises_Lakshman.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_35_Chastises.vtt" },
                { title: "Jatayu Dies Gloriously", src: "./ramayana audios/english/RAM_-_36_-_Jatayu_Dies_Gloriously.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_36_JatayuDies.vtt" },
                { title: "The Princes Meet Hanuman and Sugriva", src: "./ramayana audios/english/RAM_-_37_-_The_Princes_Meet_Hanuman_and_Sugriva.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_37_HanumanSugriva.vtt" },
                { title: "Rama Recognises Sita's Jewels", src: "./ramayana audios/english/RAM_-_38_-_Rama_Recognises_Sitas_Jewels.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_38_SitasJewels.vtt" },
                { title: "Sugriva's Doubts are Removed", src: "./ramayana audios/english/RAM_-_39_-_Sugrivas_Doubts_are_Removed.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_39_SugrivaDoubts.vtt" },
                { title: "Vali is Slain", src: "./ramayana audios/english/RAM_-_40_-_Vali_is_Slain.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_40_ValiSlain.vtt" },
                { title: "Tara's Grief", src: "./ramayana audios/english/RAM_-_41_-_Taras_Grief.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_41_TaraGrief.vtt" },
                { title: "Rama's Anger", src: "./ramayana audios/english/RAM_-_42_-_Ramas_Anger.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_42_RamasAnger.vtt" },
                { title: "The Search for Sita Begins", src: "./ramayana audios/english/RAM_-_43_-_The_Search_for_Sita_Begins.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_43_SearchSita.vtt" },
                { title: "Hanuman, Son of Vayu", src: "./ramayana audios/english/RAM_-_44_-_Hanuman_Son_of_Vayu.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_44_HanumanVayu.vtt" },
                { title: "The Search in Lanka", src: "./ramayana audios/english/RAM_-_45_-_The_Search_in_Lanka.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_45_LankaSearch.vtt" },
                { title: "Sita in the Ashoka Park", src: "./ramayana audios/english/RAM_-_46_-_Sita_in_the_Ashoka_Park.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_46_AshokaPark.vtt" },
                { title: "Ravana Tries to Seduce Sita", src: "./ramayana audios/english/RAM_-_47_-_Ravana_Tries_to_Seduce_Sita.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_47_SeduceSita.vtt" },
                { title: "Hanuman Discovers Sita", src: "./ramayana audios/english/RAM_-_48_-_Hanuman_Discovers_Sita.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_48_HanumanDiscovers.vtt" },
                { title: "Sita Consoled", src: "./ramayana audios/english/RAM_-_49_-_Sita_Consoled.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_49_SitaConsoled.vtt" },
                { title: "Hanuman Reassures Sita", src: "./ramayana audios/english/RAM_-_50_-_Hanuman_Reassures_Sita.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_50_ReassuresSita.vtt" },
                { title: "Hanuman Challenges the Rakshasas", src: "./ramayana audios/english/RAM_-_51_-_Hanuman_Challenges_the_Rakshasas.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_51_ChallengeRakshasas.vtt" },
                { title: "The Terrible Envoy", src: "./ramayana audios/english/RAM_-_52_-_The_Terrible_Envoy.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_52_TerribleEnvoy.vtt" },
                { title: "Hanuman is Arrested", src: "./ramayana audios/english/RAM_-_53_-_Hanuman_is_Arrested.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_53_HanumanArrested.vtt" },
                { title: "Lanka is Set Afire", src: "./ramayana audios/english/RAM_-_54_-_Lanka_is_Set_Afire.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_54_LankaAfire.vtt" },
                { title: "The Vanaras Celebrate", src: "./ramayana audios/english/RAM_-_55_-_The_Vanaras_Celebrate.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_55_VanarasCelebrate.vtt" },
                { title: "Rama Receives the News", src: "./ramayana audios/english/RAM_-_56_-_Rama_Receives_the_News.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_56_RamaNews.vtt" },
                { title: "The Vanara Army Advances", src: "./ramayana audios/english/RAM_-_57_-_The_Vanara_Army_Advances.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_57_VanaraAdvances.vtt" },
                { title: "Anxiety in Lanka", src: "./ramayana audios/english/RAM_-_58_-_Anxiety_in_Lanka.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_58_AnxietyLanka.vtt" },
                { title: "Ravana Calls a Council Again", src: "./ramayana audios/english/RAM_-_59_-_Ravana_Calls_a_Council_Again.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_59_CouncilAgain.vtt" },
                { title: "Vibishana, Ravana's Brother", src: "./ramayana audios/english/RAM_-_60_-_Vibishana_Ravanas_Brother.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_60_Vibishana.vtt" },
                { title: "The Vanaras Doubt", src: "./ramayana audios/english/RAM_-_61_-_The_Vanaras_Doubt.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_61_VanarasDoubt.vtt" },
                { title: "Rama Graces Vibishana", src: "./ramayana audios/english/RAM_-_62_-_Rama_Graces_Vibishana.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_62_GracesVibishana.vtt" },
                { title: "The Miraculous Causeway", src: "./ramayana audios/english/RAM_-_63_-_The_Miraculous_Causeway.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_63_Causeway.vtt" },
                { title: "The Battle Begins", src: "./ramayana audios/english/RAM_-_64_-_The_Battle_Begins.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_64_BattleBegins.vtt" },
                { title: "Sita's Joy", src: "./ramayana audios/english/RAM_-_65_-_Sitas_Joy.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_65_SitasJoy.vtt" },
                { title: "Dangerous Serpent Arrows", src: "./ramayana audios/english/RAM_-_66_-_Dangerous_Serpent_Arrows.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_66_SerpentArrows.vtt" },
                { title: "Ravana Wreaks Havoc", src: "./ramayana audios/english/RAM_-_67_-_Ravana_Wreaks_Havoc.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_67_RavanaHavoc.vtt" },
                { title: "Kumbhakarna Joins the Battle", src: "./ramayana audios/english/RAM_-_68_-_Kumbhakarna_Joins_the_Battle.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_68_Kumbhakarna.vtt" },
                { title: "Ravana Becomes Fearful", src: "./ramayana audios/english/RAM_-_69_-_Ravana_Becomes_Fearful.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_69_RavanaFearful.vtt" },
                { title: "Indrajit is Slain", src: "./ramayana audios/english/RAM_-_70_-_Indrajit_is_Slain.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_70_IndrajitSlain.vtt" },
                { title: "Rama Kills Ravana", src: "./ramayana audios/english/RAM_-_71_-_Rama_Kills_Ravana.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_71_RamaKillsRavana.vtt" },
                { title: "End of Epic", src: "./ramayana audios/english/RAM_-_72_-_End_of_Epic.mp3", subtitles: "./ramayana audios/english/subtitles/RAM_72_EndEpic.vtt" }
            ],
            hindi: [],
            kannada: []
        };

        let audioElements = [];
        let currentAudioIndex = null;
        let currentTrack = null;
        let currentLanguage = null;

        function loadAudio(language) {
            currentLanguage = language;
            const playerDiv = document.getElementById('audio-player');
            if (language in audioFiles && audioFiles[language].length > 0) {
                playerDiv.innerHTML = `
                    <h3 class="text-xl font-semibold text-[#2F4F4F] mb-2 font-['Tiro_Devanagari_Sanskrit']">${language.charAt(0).toUpperCase() + language.slice(1)} Audio</h3>
                    <select id="chapter-select" class="chapter-select" onchange="playChapter(this.value)">
                        <option value="">Select a Chapter</option>
                        ${audioFiles[language].map((file, index) => `<option value="${index}">${file.title}</option>`).join('')}
                    </select>
                    <div id="audio-container" class="mt-4">
                        <div class="custom-controls">
                            <button onclick="togglePlay()">Play/Pause</button>
                            <input type="range" id="seek-slider" min="0" max="100" value="0">
                            <span id="current-time">0:00</span> / <span id="duration">0:00</span>
                        </div>
                        <p id="playing-title" class="mt-2 text-[#3c2f2f]">Select a chapter to play audio.</p>
                        <div id="subtitle-container" class="subtitle-container"></div>
                        ${audioFiles[language].map((file, index) => `
                            <p style="display: none;">${file.title}</p>
                            <audio id="audio-${index}" style="display: none;">
                                <source src="${file.src}" type="audio/mpeg">
                                ${file.subtitles ? `<track kind="subtitles" src="${file.subtitles}" srclang="en" label="English" default>` : ''}
                                Your browser does not support the audio element.
                            </audio>
                        `).join('')}
                    </div>
                `;
                audioElements = Array.from(document.querySelectorAll('audio'));
                const seekSlider = document.getElementById('seek-slider');
                const currentTime = document.getElementById('current-time');
                const duration = document.getElementById('duration');
                const subtitleContainer = document.getElementById('subtitle-container');

                audioElements.forEach(audio => {
                    audio.addEventListener('loadedmetadata', () => {
                        if (audio === audioElements[currentAudioIndex]) {
                            seekSlider.max = audio.duration;
                            duration.textContent = formatTime(audio.duration);
                        }
                    });

                    audio.addEventListener('timeupdate', () => {
                        if (audio === audioElements[currentAudioIndex]) {
                            seekSlider.value = audio.currentTime;
                            currentTime.textContent = formatTime(audio.currentTime);
                            updateSubtitles(audio);
                        }
                    });

                    audio.addEventListener('loadeddata', () => {
                        if (audio.textTracks && audio.textTracks[0]) {
                            audio.textTracks[0].mode = 'showing';
                        }
                    });
                });

                seekSlider.addEventListener('input', () => {
                    if (audioElements[currentAudioIndex]) {
                        audioElements[currentAudioIndex].currentTime = seekSlider.value;
                    }
                });
            } else {
                playerDiv.innerHTML = `
                    <h3 class="text-xl font-semibold text-[#2F4F4F] mb-2 font-['Tiro_Devanagari_Sanskrit']">${language.charAt(0).toUpperCase() + language.slice(1)} Audio</h3>
                    <p class="text-[#3c2f2f]">Audio files for ${language} are not yet available.</p>
                `;
                audioElements = [];
            }
        }

        function playChapter(index) {
            if (index === "") {
                document.getElementById('playing-title').textContent = "Select a chapter to play audio.";
                document.getElementById('subtitle-container').innerHTML = '';
                if (currentAudioIndex !== null) {
                    audioElements[currentAudioIndex].pause();
                    currentAudioIndex = null;
                }
                return;
            }
            if (currentAudioIndex !== null) {
                audioElements[currentAudioIndex].pause();
                audioElements[currentAudioIndex].currentTime = 0;
            }
            currentAudioIndex = parseInt(index);
            const audio = audioElements[currentAudioIndex];
            audio.load();
            audio.play().catch(error => {
                console.error('Playback failed:', error);
                document.getElementById('playing-title').textContent = "Error playing audio. Serve files via a web server.";
            });
            document.getElementById('playing-title').textContent = `Playing: ${audioFiles[currentLanguage][currentAudioIndex].title}`;
            currentTrack = audio.textTracks[0];
            if (currentTrack) {
                currentTrack.mode = 'showing';
            }
        }

        function togglePlay() {
            if (currentAudioIndex === null) return;
            const audio = audioElements[currentAudioIndex];
            if (audio.paused) {
                audio.play().catch(error => {
                    console.error('Playback failed:', error);
                    document.getElementById('playing-title').textContent = "Error playing audio. Serve files via a web server.";
                });
            } else {
                audio.pause();
            }
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            seconds = Math.floor(seconds % 60);
            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }

        function updateSubtitles(audio) {
            const subtitleContainer = document.getElementById('subtitle-container');
            if (!currentTrack) {
                subtitleContainer.innerHTML = '';
                return;
            }
            const cues = currentTrack.activeCues;
            if (cues && cues.length > 0) {
                subtitleContainer.innerHTML = `<p>${cues[0].text}</p>`;
            } else {
                subtitleContainer.innerHTML = '';
            }
        }
    </script>
</body>
</html>